\chapter{Modèles de ZFC}
\label{chp.modZFC}

\minitoc

Nous avons vu dans les chapitres précédents combien $\ZFC$ était une théorie
riche en terme d'expressivité, au point même où l'ensemble des mathématiques
peut se formaliser dans $\ZFC$. Il devient alors assez technique de parler de
modèle de $\ZFC$, puisqu'un tel modèle est en quelque sorte un modèle de toutes
les mathématiques que l'on connait.

Une première conséquence de cette expressivité est un certain flou entre ce que
l'on exprime dans $\ZFC$ et dans les maths usuelles. Puisque tout peut se
définir en terme d'ensembles, il semble que tout ce dont nous avons parlé jusque
là puisse se formaliser dans $\ZFC$. C'est le cas, mais il faut faire attention
à ce qu'on manipule.

En particulier, un modèle de $\ZFC$, nommons-le $\mathcal M$, contient lui-même
un ensemble $\Formula(\Sigma)$ pour une signature $\Sigma$ donnée. On pourrait
alors se dire que, comme on peut formaliser nos résultats de logique en terme
d'ensembles, on peut travailler au sein de $\ZFC$ pour faire de la logique.
Malheureusement, les propositions de $\Formula(\Sigma)$ ne sont pas les mêmes
que celles que nous connaissons~: on peut facilement interpréter une proposition
habituelle par un élément de $\Formula(\Sigma)$, mais l'inverse n'a pas de
raison d'être vrai.

Cela mène à deux résultats essentiels pour décrire les limitations de cette
approche formelle de la logique~: les théorèmes d'incomplétudes de Gödel et le
théorème d'indéfinissabilité de la vérité de Tarski, que nous verrons dans la
PARTIE TROIS. Ceux-ci ont pour conséquence que si l'on considère un codage
$\ceil -$ qui à une formule au sens habituel associe une formule de notre
modèle $\mathcal M$, alors il n'existe pas de formule $\varphi_{\mathcal M}$
telle que
\[\forall \psi \in \Formula(\Sigma), \mathcal M \models \psi
\iff \mathcal \varphi_{\mathcal M}(\ceil \psi)\]

Cette limitation implique que l'on ne peut pas à strictement
parler écrire une formule comme $\mathcal U\models \ZFC$ pour notre univers
ensembliste $\mathcal U$. Par contre, il est possible d'écrire par exemple
$\ZFC\vdash \varphi$, qui en utilisant le théorème de complétude permet de dire
que $\mathcal U \models \varphi$~: ainsi, l'écriture de $\mathcal U\models\ZFC$
se traduit en fait par une infinité de théorèmes de la forme
$\ZFC\vDash \varphi$ pour chaque axiome $\varphi \in \ZFC$.

S'il est assez clair que $\ZFC\vDash\ZFC$ est un constat assez vide, cela nous
permet ensuite d'introduire la relativisation, qui permet d'exprimer la notion
de modèle classe de $\ZFC$.

Ce chapitre s'attachera à l'étude des outils basiques à propos des modèles
classe. Nous verrons d'abord les définitions et conséquences de cette notion,
puis nous aborderons l'absoluité, qui permet d'étudier la conservation entre des
modèles de $\ZFC$.

Nous verrons ensuite la théorie des modèles intérieurs, et son exemple le plus
connu~: l'univers constructible de Gödel $\mathbb L$.

\section{Premiers pas}

\subsection{Relativisation}

On commence par introduire la notion de relativisation d'une formule. Comme on
l'a dit, il est impossible de représenter de façon interne à un modèle de $\ZFC$
que celui-ci vérifie une formule~: il faut donc parler de façon externe au
modèle. Pour exprimer que $\varphi$ est vraie dans l'univers ambiant, il suffit
alors de travailler normalement, en utilisant les axiomes de $\ZFC$. Cependant,
cette approche est très limitée, et on aimerait s'autoriser à parler d'autres
classes que l'univers $\mathcal U$ tout entier. Pour ce faire, comme on doit
procéder de façon purement syntaxique, on modifie la formule même qu'on veut
prouver en y incluant l'information de la classe qu'on utilise.

Disons qu'on veuille montrer qu'une formule $\varphi$ est vraie dans la classe
des ordinaux, l'idée est simplement de modifier tous les quantificateurs pour
que ceux-ci ne parlent que d'éléments de $\Ord$. La relativisation est
précisément ce procédé de réduire la portée des quantificateurs par une formule,
exprimant en général l'appartenance à une classe qui nous intéresse.

\begin{definition}[Relativisation d'une formule]
  Soient $\varphi,\psi\in\Formula(\mathcal L_{\ZF})$. On appelle relativisation
  de $\varphi$ à $\psi$ la formule $\varphi^\psi$ définie par induction sur
  $\varphi$ par~:
  \begin{itemize}
  \item si $\varphi = x \in y$ ou $\varphi = x \in y$ alors
    $\varphi^\psi = \varphi$.
  \item si $\varphi = \top$ alors $\varphi^\psi = \top$.
  \item si $\varphi = \bot$ alors $\varphi^\psi = \bot$.
  \item si $\varphi = \lnot \chi$ alors $\varphi^\psi = \lnot \chi^\psi$.
  \item si $\varphi = \chi \lor \xi$ alors
    $\varphi^\psi = \chi^\psi \lor \xi^\psi$.
  \item si $\varphi = \chi \land \xi$ alors
    $\varphi^\psi = \chi^\psi \land \xi^\psi$.
  \item si $\varphi = \chi \to \xi$ alors
    $\varphi^\psi = \chi^\psi \to \xi^\psi$.
  \item si $\varphi = \exists x, \chi$ alors
    $\varphi^\psi = \exists x, \psi(x) \land \chi^\psi$.
  \item si $\varphi = \forall x, \chi$ alors
    $\varphi^\psi = \forall x, \psi(x) \to \chi^\psi$.
  \end{itemize}
\end{definition}

Le théorème central pour l'étude des modèles classes est que la cohérence est
préservée par ceux-ci.

\begin{lemma}
  Pour $\Gamma\in\List(\Formula(\Sigma))$ et $\varphi,\psi\in\Formula(\Sigma)$,
  si $\Gamma\vdash \varphi$ alors $\Gamma^\psi \vdash \varphi^\psi$ où
  $\Gamma^\psi$ l'application de la relativisation à $\psi$ de tous les éléments
  de $\Gamma$.
\end{lemma}

\begin{proof}
  A FAIRE
\end{proof}

\begin{theorem}[Préservation de la cohérence]
  Soit $\mathcal T$ et $\mathcal S$ deux théories sur $\mathcal L_{\ZF}$ et
  $\psi(x)$ une formule à une variable libre dans ce même langage telles que
  pour toute formule
  $\varphi \in \mathcal S$, $\mathcal T\vdash \varphi^\psi$. Alors
  \[\Coher(\mathcal T) \implies \Coher(\mathcal S)\]
\end{theorem}

\begin{proof}
  On donne deux preuves, l'une syntaxique et l'autre sémantique.
  \begin{itemize}
  \item supposons $\lnot\Coher(\mathcal S)$, cela signifie donc qu'il existe une
    preuve $\mathcal S\vdash \bot$, et comme cette preuve est finie on peut
    extraire une partie finie $F\subfin \mathcal S$ telle que $F\vdash \bot$.
    En utilisant le lemme précédent, il vient donc que $F^\psi\vdash \bot^\psi$
    mais $\bot^\psi = \bot$, donc on en déduit que $F^\psi\vdash \bot$. Comme
    $\mathcal T\vdash \varphi^\psi$ pour chaque $\varphi \in F$, on en déduit
    que $\mathcal T\vdash \bot$, donc que $\lnot\Coher(\mathcal T)$. Par
    contraposée, on en déduit l'implication voulue.
  \item supposons $\Coher(\mathcal T)$. On trouve donc un modèle $\mathcal M$
    de $\mathcal T$. Soit $\mathcal N$ le sous-modèle de $\mathcal M$ défini
    par
    \[|\mathcal N|\defeq \{x \mid x\in |\mathcal M|,
    \mathcal M\models \psi(x)\}\]
    Par hypothèse, on sait que $\mathcal M\models \mathcal S^\psi$, donc
    $\mathcal N\models \mathcal S$, d'où $\Coher(\mathcal S)$.
  \end{itemize}

  Les deux approches nous donnent donc que
  $\Coher(\mathcal T) \implies \Coher(\mathcal S)$.
\end{proof}

On peut par exemple appliquer ce théorème à $\ZFC - \AxF$ et $\ZFC$ pour dire
que s'il existe une classe $\mathbb V$ telle que
$\ZFC - \AxF\vdash \ZFC^\mathbb V$, alors les deux théories sont équicohérentes
(puisque dans l'autre sens, il est évident qu'enlever des axiomes ne change pas
la cohérence).

\subsection{L'univers bien fondé de Von Neumann}

On peut maintenant introduire l'univers $\mathbb V$, qui est d'une certaine
façon l'univers ensembliste au sens intuitif~: il est un modèle de $\ZFC$
présent dans tout modèle de $\ZFC - \AxF$.

\begin{definition}[L'univers bien fondé]
  On définit la hiérarchie d'ensembles $\mathbb V_{\alpha}$, pour
  $\alpha \in \Ord$, par induction transfinie~:
  \begin{itemize}
  \item $\mathbb V_0 = \varnothing$.
  \item $\mathbb V_{\alpha + 1} = \powerset(\mathbb V_{\alpha})$
  \item pour tout ordinal limite $\lambda$,
    $\displaystyle\mathbb V_\lambda = \bigcup_{\beta < \lambda}\mathbb V_\beta$
  \end{itemize}

  On définit maintenant la classe $\mathbb V$ par
  \[\mathbb V \defeq \bigcup_{\alpha \in \Ord} \mathbb V_\alpha\]
\end{definition}

\begin{remark}
  Par une union indicée par $\alpha \in \Ord$, il faut en fait comprendre que le
  prédicat $\mathbb V(x)$ est défini comme
  \[\mathbb V(x) \defeq \exists \alpha \in \Ord, \mathbb V(\alpha,x)\]
  On préfère une approche sémantique que syntaxique ici, car celle-ci est bien
  plus facile à appréhender.
\end{remark}

Un premier résultat important~: la hiérarchie est cumulative, ce qui signifie
que les ensembles sont de plus en plus grands.

\begin{property}
  Si $\alpha \leq \beta$, alors $\mathbb V_\alpha\subseteq \mathbb V_\beta$.
\end{property}

\begin{proof}
  A FAIRE
\end{proof}

Une conséquence de ce résultat est la transitivité de chaque
$\mathbb V_\alpha$.

\begin{property}
  Pour chaque $\alpha\in\Ord$, $\mathbb V_\alpha$ est un ensemble transitif. De
  plus, $\mathbb V$ est une classe transitive.
\end{property}

\begin{proof}
  On raisonne par induction transfinie~:
  \begin{itemize}
  \item si $x\in \varnothing$, alors $x\subseteq\varnothing$.
  \item supposons que $\mathbb V_\alpha$ est transitif. Soit
    $x\in\mathbb V_{\alpha+1}$. Par définition, cela signifie que
    $x\subseteq \mathbb V_\alpha$. Soit $y\in x$, par inclusion cela signifie
    que $y\in \mathbb V_\alpha$, donc comme la hiérarchie est cumulative, on
    en déduit que $y\in \mathbb V_{\alpha +1}$, donc
    $x\subseteq \mathbb V_{\alpha +1}$.
  \item si pour tous $\beta < \lambda$, $\mathbb V_\beta$ est transitif, alors
    pour $x\in \mathbb V_\lambda$, on trouve $\alpha < \lambda$ tel que
    $x\in V_\alpha$, donc $x\subseteq V_\alpha$. De plus,
    $V_\alpha \subseteq V_\lambda$ donc $x\subseteq V_\lambda$.
  \end{itemize}
  Ainsi tous les $\mathbb V_\alpha$ sont transitif. Le fait que $\mathbb V$ est
  une classe transitive est une conséquence directe.
\end{proof}

Notre premier objectif est de montrer que $\mathbb V$ constitue un premier
modèle classe de $\ZFC$.

\begin{theorem}\label{thm.V.ZFCAF}
  Pour tout $\varphi \in \ZFC$, on a $\ZFC - \AxF \vdash \varphi^\mathbb V$.
\end{theorem}

\begin{proof}
  On vérifie chaque axiome relativisé~:
  \begin{itemize}
  \item vérifions l'axiome d'extensionalité. Soient $x,y\in \mathbb V$ tels que
    $\forall z\in \mathbb V, z\in x\iff z \in y$. Comme $\mathbb V$ est une
    classe transitive, pour tous $z\in x, z\in \mathbb V$ et de même pour les
    éléments de $y$. On en déduit que $\forall z, z\in x \iff z \in y$, donc
    l'axiome d'extensionalité peut s'appliquer directement pour conclure que
    $x = y$.
  \item vérifions l'axiome de la réunion~: si $x\in \mathbb V$ alors on trouve
    $\alpha$ tel que $\rk(x) = \alpha$. A FAIRE
  \item vérifions l'axiome de l'ensemble des parties~: soit $x\in \mathbb V$,
    on trouve $\alpha$ tel que $\rk(x) = \alpha$. Alors pour tous
    $y\subseteq x$, $y\subseteq \mathbb V_\alpha$ donc
    $y\in\mathbb V_{\alpha +1}$. On en déduit que pour tous $y\in \powerset(x)$,
    $y\in \mathbb V$, donc $\powerset(x)\in\mathbb V$.
  \item vérifions l'axiome de remplacement~: A FAIRE
  \item vérifions l'axiome de l'infini~: on sait que $\Ord\subseteq\mathbb V$,
    donc il existe bien un ensemble $\omega^\mathbb V \in \mathbb V$
    contenant $0$ et stable par successeur, c'est $\omega$ lui-même.
  \item vérifions l'axiome de fondation~: A FAIRE
  \item vérifions l'axiome du choix~: A FAIRE
  \end{itemize}
  D'où le résultat.
\end{proof}

On a donc notre premier modèle classe de $\ZFC$. Un point important lorsque l'on
ne travaille pas \emph{a priori} avec l'axiome de fondation est que la classe
$\mathbb V$ correspond exactement à la classe des éléments bien fondés de
l'univers ambiant.

\begin{proposition}
  Soit un ensemble $x$, alors on a l'équivalence suivante dans $\ZFC-\AxF$~:
  \[x\in \mathbb V \iff \exists y \in \trcl(x), \trcl(x) \cap y = \varnothing\]
\end{proposition}

\begin{proof}
  L'implication directe est une conséquence du fait que $\mathbb V\models \AxF$.
  Soit $x$ tel que $\exists y \in \trcl(x), \trcl(x) \cap y = \varnothing$. On
  en déduit que $\in$ est une relation bien fondée sur $x$, 
\end{proof}

On voit donc que dans le cas d'un univers ensembliste $\mathcal U$, celui-ci
vérifie $\AxF$ si et seulement si $\mathbb V = \mathcal U$. On utilisera donc en
général $\mathbb V$ pour parler de l'univers ensembliste.

\section{Vers le théorème de réflexion}

Dans le reste du chapitre, on suppose l'axiome de fondation~: on considère donc
que $\mathcal U = \mathbb V$. Notre premier objectif est de montrer le théorème
de réflexion. Pour ce faire, nous introduisons d'abord la notion de rang,
permettant d'étudier plus en détail la hiérarchie des $\mathbb V_\alpha$, et les
ensembles $H_\kappa$. Nous verrons ensuite l'absoluité, permettant de rendre plus
formel ce qu'on attend d'une proposition qui passe d'un modèle de $\ZFC$ à un
autre.

\subsection{Rang et parties héréditaires}

Le rang indique à quelle étape de la construction des $\mathbb V_\alpha$ notre
ensemble a été construit.

\begin{definition}[Rang]
  On définit le rang d'un ensemble $x\in\mathbb V$ par~:
  \[\rk(x) \defeq \min \{\alpha \in \Ord\mid x\subseteq \mathbb V_\alpha\}\]
\end{definition}

Le rang d'un ensemble peut se voir comme la profondeur d'accolades imbriquées
lorsque l'on définit l'ensemble en question. Ce rang se comporte bien vis à vis
des opérations ensemblistes usuelles, comme nous allons le voir.

\begin{proposition}\label{prop.cara.rk}
  Soit un ensemble $X\in\mathbb V$, on peut caractériser son rang par
  \[\rk(X) = \sup_{x \in X} (\rk(x) + 1)\]
\end{proposition}

\begin{proof}
  Supposons que $\forall x \in X, \rk(x) \leq \alpha$ pour un certain
  $\alpha\in\Ord$. Soit $x\in X$. Par définition de $\rk(x)$, on déduit que
  $x\subseteq \mathbb V_\alpha$, donc $x\in \mathbb V_{\alpha + 1}$, donc
  $X = \{x\}_{x\in X} \subseteq \mathbb V_{\alpha + 1}$. Donc $\rk(X)$ est
  un majorant de $\{\rk(x) + 1 \mid x \in X\}$.

  Montrons que ce majorant est une borne supérieure. Soit $\beta\in\Ord$ tel que
  $\forall x \in X, \rk(x) + 1 \leq \beta$. Pour tout
  $x\in X$, $x\in \mathbb V_\beta$ donc $X\subseteq \mathbb V_\beta$, donc
  $\rk(X) \leq \beta$. Ce majorant est donc une borne supérieure, d'où
  l'égalité.
\end{proof}

\begin{property}\label{prop.rg.oper}
  Les propriétés suivantes sont vérifiées~:
  \begin{itemize}
  \item $\forall x,y\in\mathbb V, x\in y \implies \rk(x) + 1 \leq \rk(y)$
  \item $\forall x,y\in\mathbb V, x\subseteq y \implies \rk(x) \leq \rk(y)$
  \item $\displaystyle \forall x\in\mathbb V,
    \rk\left(\bigcup x\right) + 1 \leq \rk(x)$
  \item $\forall x,y\in\mathbb V, \rk(x\cup y) = \max(\rk(x),\rk(y))$
  \item $\forall x,y\in\mathbb V, \rk(\{x,y\}) = \max(\rk(x),\rk(y)) + 1$
  \item $\forall x\in\mathbb V, \rk(\powerset(x)) = \rk(x) + 1$
  \item $\forall x\in\mathbb V, \rk(\trcl(x)) = \rk(x)$
  \item $\displaystyle \forall \alpha \in \Ord, \rk(\alpha) = \alpha$
  \end{itemize}
\end{property}

\begin{proof}
  Vérifions chaque propriété~:
  \begin{itemize}
  \item l'inégalité vient directement de la \cref{prop.cara.rk}.
  \item soient $x,y$ tels que $x\subseteq y$. Si $y\subseteq\mathbb V_\alpha$,
    comme $x\subseteq y$, on en déduit que $x\subseteq\mathbb V_\alpha$, donc
    $\rk(x)\leq \rk(y)$.
  \item soit $y\in \bigcup x$, on trouve $z\in x$ tel que $y\in z \in x$. En
    utilisant l'inégalité précédente, on en déduit que $\rk(y) + 1 \leq \rk(z)$
    et que $\rk(z) + 1 \leq \rk(x)$, donc $\rk(y) + 2 \leq \rk(x)$. On en détuit
    en utilisant la \cref{prop.cara.rk} que $\rk(\bigcup x) + 1 \leq \rk(x)$.
  \item soient $x,y$. On utilise directement la \cref{prop.cara.rk}~:
    \begin{align*}
      \rk(x\cup y) &= \sup_{z \in x \cup y} (\rk(z) + 1)\\
      &= \max(\sup_{z \in x} (\rk(z) + 1), \sup_{z\in y} (\rk(z) + 1))\\
      &= \max(\rk(x),\rk(y))
    \end{align*}
  \item pour deux éléments $x,y$, il est clair que le sup est un max, d'où
    l'égalité.
  \item soit un ensemble $x$. comme $x\in \mathcal P(x)$, on en déduit que
    $\rk(x) + 1 \leq \mathcal (\powerset (x))$. Pour l'autre inclusion, si
    $y\in \mathcal (\powerset(x))$ alors $y\subseteq x$, donc
    $\rk(y) \leq \rk(x)$ par un point précédent. On en déduit que
    $\sup_{y\in \powerset(x)} (\rk(y) + 1) \leq \rk(x) + 1$ d'où
    l'égalité.
  \item comme chaque $\mathbb V_\alpha$ est transitif, si
    $x\subseteq \mathbb V_\alpha$ alors $\trcl(x)\subseteq \mathbb V_\alpha$. On
    en déduit que $\rk(\trcl(x)) \leq \trcl(x)$, et il est clair que l'autre
    inégalité tient toujours puisqu'on rajoute des éléments.
  \item on prouve cela par induction transfinie~:
    \begin{itemize}
    \item $\varnothing \subseteq \varnothing$ donc $\rk(0) = 0$.
    \item on sait que $\alpha + 1 = \alpha \cup \{\alpha\}$. En utilisant les
      précédentes égalités, $\rk(\{\alpha\}) = \rk(\alpha) + 1$ donc
      $\rk(\alpha + 1) = \alpha + 1$.
    \item si $\lambda$ est un ordinal limite, alors
      $\rk(\lambda) = \sup_{\beta < \lambda} (\rk(\beta) + 1)$ et par hypotèse
      d'induction, $\rk(\beta) = \beta$, donc $\rk(\lambda) = \lambda$.
    \end{itemize}
    Ainsi pour tout $\alpha \in \Ord, \rk(\alpha) = \alpha$.
  \end{itemize}
  Les propriétés sont donc vérifiées.
\end{proof}

On peut alors affiner certains résultats liés au fait que
$\mathbb V \models \ZFC$. En effet, puisque
$\mathbb V_\alpha \subseteq\mathbb V$, on peut chercher ce que chaque
$\mathbb V_\alpha$ vérifie. Tout d'abord, plutôt que le cas particulier de
$\mathbb V_\alpha$, l'axiome d'extensionalité est vérifié dès qu'un ensemble est
transitif (cette condition n'est pas nécessaire, elle est seulement suffisante).

\begin{property}
  Soit $X$ un ensemble transitif, alors l'axiome d'extensionalité relativisé à
  $X$ est vérifié~:
  \[X \models \forall x,\forall y, (\forall z, z \in x\iff z \in y) \implies
  x = y\]
\end{property}

\begin{proof}
  On reprend la preuve faite dans le \cref{thm.V.ZFCAF}~: soient $x,y\in X$ deux
  ensembles tels que $\forall z \in X, z \in x \iff z \in y$. Alors pour tout
  $z\in x$, comme $X$ est transitif, $z\in X$, donc par notre hypothèse
  $z\in y$, donc $x\subseteq y$. L'argument fonctionne symétriquement pour nous
  assurer que $y\subseteq x$, donc $x = y$.
\end{proof}

De plus, chaque $\mathbb V_\alpha$ vérifie l'axiome de fondation.

On voit dans la \cref{prop.rg.oper} que la plupart des opérations ne font pas
exploser le rang. Cela signifie que, dans le cas d'un ordinal limite, où
$\alpha \in \lambda \implies \alpha + 1 \in \lambda$, beaucoup de constructions
sont stables par $\mathbb V_\lambda$.

\begin{property}
  Soit $\lambda$ un ordinal limite. Alors $\mathbb V_\lambda$ vérifie les
  axiomes suivants~:
  \begin{itemize}
  \item l'axiome de la paire
  \item l'axiome de l'union
  \item l'axiome de l'ensemble des parties
  \item l'axiome de compréhension
  \item l'axiome du choix
  \end{itemize}

  De plus, si $\lambda > \omega$ alors $\mathbb V_\lambda$ vérifie l'axiome de
  l'infini.
\end{property}

\begin{proof}
  Vérifions chaque axiome~:
  \begin{itemize}
  \item soient $x,y\in \mathbb V_\lambda$, donc tels que $\rk(x) <\lambda$ et
    $\rk(y)<\lambda$. Alors $\rk(\{x,y\}) = \max(\rk(x),\rk(y)) + 1 < \lambda$,
    donc $\{x,y\}\in\mathbb V_\lambda$.
  \item soit $x\in \mathbb V_\lambda$, alors $\rk(x) < \lambda$, donc
    $\rk(\bigcup x) < \lambda$ donc $\bigcup x \in \mathbb V_\lambda$.
  \item soit $x\in \mathbb V_\lambda$. Comme $\rk(\powerset(x)) = \rk(x) + 1$,
    que $\rk(x) < \lambda$ et que $\lambda$ est limite, on en déduit que
    $\rk(\powerset(x)) < \lambda$ donc que $\powerset(x) \in \mathbb V_\lambda$.
  \item soit $\varphi(x_1,\ldots,x_n,x)$ une formule dans le langage de
    $\ZFC$, $a_1,\ldots,a_n$ des éléments de $\mathbb V_\lambda$ et
    $X\in \mathbb V_\lambda$. Alors l'ensemble
    \[y \defeq \{x \in X \mid \varphi(a_1,\ldots,a_n,x)\}\]
    est une partie de $X$, donc $\rk(y)\leq \rk(X) \leq \lambda$, donc
    $y\in \mathbb V_\lambda$.
  \item soit $X$ un ensemble non vide, d'éléments deux à deux disjoints. Alors
    par l'axiome du choix, il existe $C$ tel que $\forall x \in X,|C\cap x|=1$.
    Quitte à prendre $C \cap \bigcup X$, $C\subseteq \bigcup X$ donc
    $\rk(C) < \lambda$, donc $C\in \mathbb V_\lambda$.
  \end{itemize}

  Si $\lambda > \omega$, alors $\omega \in \mathbb V_\lambda$ donc il existe
  bien dans $V_\lambda$ un élément contenant l'ensemble vide et stable par
  successeur. On peut préciser que l'ensemble vide est bien dans
  $\mathbb V_\lambda$, donnant un sens à la définition.
\end{proof}

On peut se demander alors si l'axiome de remplacement est vérifié. En fait il
est évident que ça n'est pas le cas, en partant du deuxième théorème
d'incomplétude de Gödel~: si c'était le cas, alors on trouverait un modèle de
$\ZFC$, impliquant que $\ZFC\vdash \Coher(\ZFC)$ (ou plutôt
$\ZFC\vdash \Coher(\lceil \ZFC\rceil)$).

Les $\mathbb V_\lambda$ nous donnent donc une approximation assez fidèle d'un
modèle de $\ZFC$ s'il s'agit de mathématiques usuelles, mais ces ensembles
perdent tout leur intérêt pour de la théorie des ensembles~: le schéma d'axiomes
de remplacement est utilisé pour la plupart de nos constructions, dès
l'utilisation de la récursion transfinie.

On introduit une autre hiérarchie d'ensembles qui, eux, vérifieront le schéma
d'axiomes de remplacement~: ce sont les ensembles héréditaires.

\begin{definition}[Ensemble héréditaire]
  Soit $\kappa \in \Card$. On appelle ensemble des ensembles héréditairement de
  cardinal $\kappa$ la classe
  \[\mathbb H_\kappa \defeq \{x \mid |\trcl(x)| < \kappa\}\]
\end{definition}

Pour deux cardinaux $\kappa,\lambda$, on définit le cardinal
\[\lambda^{<\kappa} \defeq \sup_{\kappa' < \kappa} \lambda^{\kappa'}\]
On peut voir ce cardinal comme le cardinal de l'ensemble des fonctions de
$\kappa$ dans $\lambda$ dont le support (ensemble des points de $\kappa$ où la
fonction n'est pas nulle) est strictement inférieur à $\kappa$.

On montre maintenant que, plus que des classes, les $\mathbb V_\kappa$ sont des
ensembles.

\begin{proposition}
  Soit $\kappa\in\Card_\infty$. Alors $\mathbb H_\kappa\subseteq\mathbb V_\kappa$
  et  $|\mathbb H_\kappa| = 2^{<\kappa}$.
\end{proposition}

\begin{proof}
  A FAIRE
\end{proof}

Comme $\mathbb H_\kappa$ est inclus dans un ensemble, c'est lui-même un
ensemble.

On veut maintenant montrer les cas d'égalité entre $\mathbb H$ et $\mathbb V$.

\begin{property}
  Les propriétés suivantes sont vérifiées~:
  \begin{itemize}
  \item $\mathbb V_\omega = \mathbb H_\omega$
  \item pour tout $\alpha\in\Ord$, $|\mathbb V_{\omega + \alpha}| = \beth_\alpha$,
    donc en particulier pour $\alpha \geq \omega^2$,
    $|\mathbb V_\alpha| = \beth_\alpha$.
  \item si $\kappa > \omega$, alors $\mathbb H_\kappa = \mathbb V_\kappa$
    si et seulement si $\kappa = \beth_\kappa$.
  \end{itemize}
\end{property}

\begin{proof}
  A FAIRE
\end{proof}

On peut maintenant prouver que $\mathbb H_\kappa$ vérifie les axiomes de
$\ZFC - P$ pour un cardinal régulier $\kappa$, c'est-à-dire les axiomes de
$\ZFC$ sauf celui de l'ensemble des parties.

\begin{property}
  Soit $\kappa$ un cardinal régulier. Alors $\mathbb H_\kappa$ vérifie~:
  \begin{itemize}
  \item l'axiome de la paire
  \item l'axiome de la réunion
  \item l'axiome de remplacement
  \item l'axiome de l'infini
  \item l'axiome de fondation
  \item l'axiome du choix
  \end{itemize}
\end{property}

\begin{proof}
  On vérifie chaque axiome~:
  \begin{itemize}
  \item A FAIRE
  \end{itemize}
\end{proof}

On voit qu'ici, pour que $\mathbb H_\kappa$ vérifie tout $\ZFC$, il lui suffit
que pour tout $\kappa' \in \kappa$, $2^{\kappa'} \in \kappa$. C'est ce qu'on
appelle un cardinal fortement inaccessible.

\begin{definition}[Cardinal fortement inaccessible]
  On dit qu'un cardinal $\lambda$ est fortement inaccessible (on dit aussi, plus
  simplement, inaccessible) si $\lambda > \omega$ et
  \[\forall \kappa \in \lambda, 2^\kappa \in \lambda\]
\end{definition}

Il vient directement qu'un tel cardinal ne peut exister dans tout modèle de
$\ZFC$.

\begin{proposition}
  Il n'est pas prouvable dans $\ZFC$ qu'il existe un cardinal inaccessible.
\end{proposition}

\begin{proof}
  S'il existait un $\kappa$ inaccessible, alors $\mathbb H_\kappa$ serait un
  modèle ensembliste de $\ZFC$, ce qui contredit le second théorème
  d'incomplétude de Gödel.
\end{proof}

Enfin, nous allons introduire l'univers constructible $\mathbb L$ de Gödel, que
nous étudierons dans la section prochaine. Nous aurons cependant besoin de
notions liées à sa construction.

\begin{definition}[Partie définissable]
  Soit un ensemble $X$, on dit qu'une partie $Y\subseteq X$ est définissable
  dans $X$ s'il existe une formule $\varphi(x_1,\ldots,x_n,x)$ à $n+1$ variables
  libres et des ensembles $a_1,\ldots,a_n \in X$ tels que
  \[\forall x \in X, x \in Y \iff X\models \varphi(a_1,\ldots,a_n,x)\]

  On appelle ensemble des parties définissables d'un ensemble $X$ l'ensemble
  \begin{multline*}
    \powerdef(X) \defeq \{Y \subseteq X \mid \exists
    \varphi(x_1,\ldots,x_n,x)\in\Formula(\mathcal L_{\ZF}),\\
    \exists a_1,\ldots,a_n \in X,
    \forall x \in X, x \in Y \iff X \models \varphi(a_1,\ldots,a_n,x)\}
  \end{multline*}
\end{definition}

\begin{remark}
  Il peut être bon de préciser, ici, de quel type de formule on parle. Dans le
  cas de la notion de définissabilité, on considère les propositions internes
  au modèle de $\ZFC$, c'est-à-dire les objets ensemblistes représentant
  intérieurement nos propositions. Cela explique l'utilisation de
  \og $X\models \varphi(x)$\fg plutôt que \og$\varphi(x)$\fg directement.
\end{remark}

L'univers constructible est alors l'itération de cette opérations à la place de
l'ensemble des parties.

\begin{definition}[Univers constructible de Gödel]\label{def.L}
  On définit par induction transfinie la hiérarchie $\mathbb L_\alpha$~:
  \begin{itemize}
  \item $\mathbb L_0 = \varnothing$
  \item $\mathbb L_{\alpha + 1} = \powerdef (\mathbb L_\alpha)$
  \item si $\lambda$ est limite, alors
    $\displaystyle\mathbb L_\lambda = \bigcup_{\beta < \lambda} \mathbb L_\beta$
  \end{itemize}
  L'univers constructible de Gödel est alors
  \[\mathbb L \defeq \bigcup_{\alpha \in \Ord} \mathbb L_\alpha\]
\end{definition}

\subsection{Absoluité et réflexion}

On va maintenant s'intéresser à une question assez naturelle à se poser, dans
les conditions de notre étude des modèles de $\ZFC$. Supposons donnés deux
modèles (potentiellement des classes) $(\mathcal M,\in)$ et $(\mathcal N,\in)$
et $\mathcal M \subseteq \mathcal N$, quand une formule $\varphi$ à paramètres
dans $\mathcal M$ garde-t-elle la même valeur de vérité que l'on l'étudie dans
$\mathcal M$ ou dans $\mathcal N$ ?

Prenons un exemple~: on a vu que $\mathcal V_\alpha$ étant un ensemble
transitif, celui-ci vérifiait l'extensionalité. La preuve montre assez
clairement que la proposition $\forall z, z \in x \iff z \in y$ en elle-même
ne dépend pas du point de vue choisi, tant que celui-ci se fait dans un
ensemble transitif. Ainsi si on imagine un surmodèle de notre univers
ensembliste, ou une partie seulement, la vérité de
$\forall z, z \in x \iff z \in y$ est presque constante (encore une fois, tant
que l'univers considéré est transitif). Une formule absolue est donc une
formule dont la valeur de vérité ne changera pas suivant les modèles.

\begin{definition}[Formule absolue]
  Soient deux classes $(\mathcal M,\in)$, $(\mathcal N,\in)$ telles que
  $\mathcal M \subseteq \mathcal N$.
  Soit $\varphi(x_1,\ldots,x_n) \in \mathcal L_{\ZF}$ une formule à $n$
  paramètres. On dit que $\varphi$ est absolue entre $\mathcal M$ et
  $\mathcal N$ lorsque
  \[\mathcal M \preccurlyeq_\varphi \mathcal N \defeq
  \forall a_1,\ldots,a_n \in \mathcal M, \varphi^{\mathcal M}(a_1,\ldots,x_n)
  \iff \varphi^{\mathcal N}(a_1,\ldots,a_n)\]

  On dirait que $\varphi$ est absolue pour une classe $\mathcal M$ si elle est
  absolue entre $\mathcal M$ et $\mathbb V$.
\end{definition}

L'exemple précédent sur l'extensionalité peut en fait se généraliser. La
propriété exploitée est le fait que si l'on étudie
$\forall x, z \in x \iff z \in y$ dans un modèle transitif, alors on est obligé
de contenir tous les éléments de $x$ et $y$. Cette propriété est en quelque
sorte locale~: tout ce qui est nécessaire pour évaluer la vérité de cette
proposition est la donnée de tous les éléments de $x$ et de $y$.

Au contraire, une propriété comme \og être un cardinal\fg n'est pas du tout
locale, puisqu'elle repose sur la non existence d'une injection dans l'univers
ambiant. Imaginons qu'on puisse ajouter une telle injection dans notre univers,
alors un élément qui était un cardinal peut ne plus l'être.

Pour étudier une proposition qui présente cette propriété locale mentionnée
ci-dessus, on introduit la hiérarchie de Lévy.

\begin{definition}[Hiérarchie de Lévy]
  On définit par induction trois familles d'ensembles de formules sur
  $\mathcal L_{\ZF}, (\Delta^{\ZFC}_n)_{n\in\mathbb N},
  (\Sigma^{\ZFC}_n)_{n\in\mathbb N}$
  et $(\Pi^{\ZFC}_n)_{n \in \mathbb N}$~:
  \begin{itemize}
  \item $\Delta^{\ZFC}_0=\Sigma^{\ZFC}_0=\Pi^{\ZFC}_0$ est l'ensemble des formules
    prouvablement équivalentes dans $\ZFC$ à une formule dont les
    quantificateurs sont tous bornés, c'est-à-dire que toute quantification
    $Q x, \psi$ est de la forme $Q x \in t, \psi$ où $t$ est un terme ne
    contenant pas $x$.
  \item $\Sigma^{\ZFC}_{n+1}$ est l'ensemble des formules prouvablement
    équivalentes
    dans $\ZFC$ à une formule de la forme
    $\exists x, \psi$ où $\psi$ est une formule $\Pi^{\ZFC}_n$.
  \item $\Pi^{\ZFC}_{n+1}$ est l'ensemble des formules prouvablement équivalentes
    dans $\ZFC$ à une formule de la forme $\forall x, \psi$ où $\psi$ est une
    formule $\Sigma^{\ZFC}_n$.
  \item $\Delta^{\ZFC}_n$ est l'ensemble des formules qui sont à la fois
    $\Sigma^{\ZFC}_n$ et $\Pi^{\ZFC}_n$.
  \end{itemize}

  On notera en général simple $\Delta_n$ (respectivement $\Sigma_n$ et $\Pi_n$)
  pour $\Delta^{\ZFC}_n$.
\end{definition}

\begin{remark}
  Comme on peut toujours prendre un produit fini comme un nouvel ensemble, il
  est équivalent de prendre un seul quantificateur $\exists$ (respectivement
  $\forall$) et une suite finie de quantificateurs $\exists$ (respectivement
  $\forall$), d'où le fait qu'on se limite dans la hiérachie aux alternances
  de quantificateurs.
\end{remark}

On peut maintenant énoncer la généralisation de notre preuve de l'axiome
d'extensionalité pour toute formule $\Delta_0$.

\begin{proposition}
  Soit $\mathcal M$ une classe transitive. Alors toute formule
  $\varphi\in\Delta_0$ est absolue pour $\mathcal M$.
\end{proposition}

\begin{proof}
  A FAIRE
\end{proof}

Donnons des exemples de formules $\Delta_0$~:

\begin{example}
  Les formules suivantes sont $\Delta_0$~:
  \begin{itemize}
  \item $x\in y$
  \item $x\subseteq y$, car cela s'écrit $\forall z \in x, z \in y$
  \item $x = \{y,z\}$
  \item $x = \bigcup y$
  \item $x$ est transitif, car cela s'écrit $\forall y \in x, y\subseteq x$
  \item $x$ est un couple, car cela s'écrit
    $\exists y,\exists z, x = \{\{y,z\},\{y\}\}$
  \item $f$ est une fonction, car cela s'écrit
    \begin{multline*}
      \forall \gamma \in f, \gamma\text{ est un couple }\land
      \forall x,y \in \bigcup \bigcup f,\\
      (\exists z \in \bigcup\bigcup f,
      (x,z) = \gamma \land (y,z) = \gamma) \implies x = y
    \end{multline*}
  \item $\alpha \in \Ord$, car être un ordinal est la conjonction de~:
    \begin{itemize}
    \item être transitif, dont on vient de voir que la proposition était
      $\Delta_0$.
    \item que $\in$ est transitif sur $\alpha$, ce qui s'écrit
      \[\forall x \in \alpha, \forall y \in \alpha, \forall z \in \alpha,
      x\in y \land y \in z \implies x \in z\] qui est clairement $\Delta_0$.
    \item que $\in$ est total, ce qui s'écrit
      \[\forall x \in \alpha, \forall y \in \alpha, x \neq y \implies
      x \in y \lor y \in x\] qui est là encore clairement $\Delta_0$.
    \item comme on suppose l'axiome de fondation, l'irréflexivité de $\in$ et sa
      bonne fondation sont forcément vérifiés.
    \end{itemize}
  \item être égal à $\omega$, car \og $X = \omega$\fg peut s'écrire
    \[X\in \Ord \land (\forall z \in X, S\;z \in X) \land
    (\forall y \in X, \lnot (\forall z \in y, S\;z \in y))\]
  \end{itemize}
\end{example}

\begin{exercise}
  Montrer qu'être un ordinal successeur (respectivement limite) peut s'exprimer
  par une formule $\Delta_0$. Montrer qu'être une bijection peut s'exprimer
  par une formule $\Delta_0$.
\end{exercise}

On voit donc une famille importante de formules qui sont absolues entre les
classes transitives (qui sont presque les seules classes d'intérêt).

On peut aussi étudier les formules $\Sigma_1$ et $\Pi_1$, qui ne sont pas
absolues mais transmettent leur vérité d'une classe à une sur-classe
(respectivement à une sous-classe).

\begin{proposition}
  Soit $\mathcal M$, $\mathcal N$ deux classes transitives, avec
  $\mathcal M \subseteq \mathcal N$. Alors pour un énoncé
  $\varphi\in\Formula(\mathcal L_{\ZF})$, on a les implications suivantes~:
  \begin{itemize}
  \item si $\varphi \in \Sigma_1$ alors
    $\varphi^{\mathcal M} \implies \varphi^{\mathcal N}$
  \item si $\varphi \in \Pi_1$ alors
    $\varphi^{\mathcal N} \implies \varphi^{\mathcal M}$
  \end{itemize}
  et toute formule $\Delta_1$ est absolue entre $\mathcal M$ et $\mathcal N$.
\end{proposition}

\begin{proof}
  On montre d'abord les deux implications~:
  \begin{itemize}
  \item supposons que $\varphi \in \Sigma_1$ et $\varphi^{\mathcal M}$. On
    suppose sans perte de généralité que $\varphi$ est de la forme
    $\exists x, \psi$ où $\psi\in\Delta_0$. On sait donc qu'il existe un
    ensemble $a\in\mathcal M$ tel que $\psi[a/x]$ est vraie. Comme
    $\psi[a/x]$ est $\Delta_0$, elle est absolue entre ces deux classes
    transitives, et $\mathcal M \subseteq\mathcal N$ donc $\psi[a/x]$
    permet de déduire $(\exists x, \psi)^{\mathcal N}$.
  \item supposons que $\varphi \in \Pi_1$ et $\varphi^{\mathcal N}$. On
    suppose sans perte de généralité que $\varphi$ est de la forme
    $\forall x, \psi$ où $\psi\in\Delta_0$. On sait que donc pour tout
    ensemble $a\in \mathcal N$, $\psi[a/x]$ est vraie. Ainsi, pour tout
    ensemble $a\in \mathcal M$, $\psi[a/x]$ est vérifiée aussi, par inclusion.
    Donc $(\forall x, \psi)^{\mathcal M}$.
  \end{itemize}

  Si $\varphi\in\Delta_1$, alors $\varphi$ est $\Sigma_1$ et $\Pi_1$, ce qui
  signifie que $\varphi^{\mathcal M}\iff \varphi^{\mathcal N}$, donc que
  $\mathcal M\preccurlyeq_\varphi \mathcal N$.
\end{proof}

Donnons maintenant le théorème de réflexion, qui est un théorème majeur de la
théorie des ensembles. Celui-ci nous permet de montrer que pour toute hiérarchie
telle $\mathbb V$ ou $\mathbb L$ et toute proposition $\varphi$, il existe des
ordinaux arbitrairement élevés tels que $\varphi$ est absolue entre la
hiérarchie et sa construction partielle à l'ordinal donné.

\begin{theorem}[Réflexion]
  Soit une fonction $f : \Ord \to \mathbb V$ vérifiant~:
  \begin{itemize}
  \item pour tout $\alpha \in \Ord$,
    $\powerdef(f(\alpha))\subseteq f(\alpha + 1)\subseteq\powerset(f(\alpha))$
  \item pour tout $\lambda \in \Ord$ limite,
    $\displaystyle f(\lambda) = \bigcup_{\beta < \lambda} f(\beta)$
  \end{itemize}
  et $\displaystyle F = \bigcup_{\alpha \in \Ord} f(\alpha)$.
  alors pour toute proposition $\varphi\in\Formula(\mathcal L_{\ZF})$ et tout
  ordinal $\alpha \in \Ord$, il existe un ordinal $\beta > \alpha$ tel que
  $f(\beta)\preccurlyeq_\varphi F$. On peut de plus prendre $\beta$ limite.
\end{theorem}

\begin{proof}
  A FAIRE
\end{proof}

\begin{remark}
  Comme on peut toujours représenter un ensemble fini de propositions $F$ par
  $\bigwedge F$, le théorème de réflexion s'étend directement à un ensemble fini
  de propositions.
\end{remark}

Une première conséquence est un résultat assez peu surprenant, mais qu'il est
intéressant d'avoir.

\begin{proposition}
  La théorie $\ZFC$ n'est pas finiment axiomatisable.
\end{proposition}

\begin{proof}
  Si $\ZFC$ était finiment axiomatisable, alors on trouverait un certain
  $\mathbb V_\alpha$ tel que $\ZFC$ est absolu pour $\mathbb V_\alpha$, nous
  donnant donc un modèle ensembliste de $\ZFC$.
\end{proof}

\section{L'univers constructible de Gödel}

Nous avons introduit cet univers dans la \cref{def.L}, mais ne l'avons pas
encore étudié. Nous le verrons, c'est un univers ensembliste se comportant
particulièrement bien~: l'axiome du choix y est vrai dans une version
particulièrement forte, l'hypothèse du continu généralisée y est vraie\ldots
Nous allons donc étudier plus en profondeur l'univers $\mathbb L$.

\subsection{Premiers pas}

Tout d'abord, intéressons-nous à l'opération $\powerdef$. Celle-ci nous donne
une forme plus faible d'ensemble des parties, mais on peut remarquer que son
action sur le cardinal n'est pas du tout la même.

\begin{proposition}
  Les assertions suivantes sont vérifiées~:
  \begin{itemize}
  \item si $X$ est un ensemble fini, alors $\powerdef(X) = \powerset(X)$.
  \item si $X$ est un ensemble infini, alors $|\powerdef(X)| = |X|$.
  \end{itemize}
\end{proposition}

\begin{proof}
  Prouvons ces deux assertions~:
  \begin{itemize}
  \item La première inclusion, $\powerdef(X)\subseteq\powerset(X)$, est directe.
    Supposons que $X$ est fini et soit $Y\subseteq X$. Décomposons
    $Y = \{y_1,\ldots,y_p\}$. On peut alors définir la proposition
    \[\varphi(x) \defeq \bigvee_{i = 1}^p (x = y_i)\]
    dont il est évident que $x \in Y \iff X \models \varphi(x)$. Ainsi
    $Y\in \powerdef(X)$, d'où l'égalité.
  \item Supposons que $X$ est infini. Pour énumérer $\powerdef(X)$, il nous
    suffit d'énumérer $\Formula(\mathcal L_{\ZF})$, qui est dénombrable, et
    l'ensemble des parties finies de $X$~: $|X^{<\omega}| = |X|$ car $X$ est
    au moins dénombrable. Ainsi il y a $|\omega \times X^{<\omega}| = |X|$
    tuples $(\varphi,a_1,\ldots,a_n)$ définissant une partie définissable de
    $X$, donc $|\powerdef(X)|\leq |X|$. De plus, on peut injecter $X$ dans
    $\powerdef(X)$ par $x\mapsto \{x\}$, dont la représentation est la
    formule
    \[\psi(y) \defeq x = y \]
    donc $|\powerdef(X)| = |X|$.
  \end{itemize}
\end{proof}

On montre aussi, de façon analogue au travail effectué pour $\mathbb V$, que
$(\mathbb L_\alpha)_{\alpha \in \Ord}$ est une hiérarchie cumulative et transitive.

\begin{proposition}
  Pour tout $\alpha,\beta \in \Ord$, si $\alpha \leq \beta$ alors
  $\mathbb L_{\alpha} \subseteq \mathbb L_\beta$. De plus chaque
  $\mathbb L_\alpha$ est un ensemble transitif.
\end{proposition}

\begin{proof}
  A FAIRE
\end{proof}

Il est donc clair que $\powerdef(X)\neq \powerset(X)$ lorsque $X$ est infini.
On peut donc montrer que $\mathbb L$ ne coïncide avec $\mathbb V$ que jusqu'à
$\omega$.

\begin{proposition}
  Pour tout $\alpha \leq \omega$, $\mathbb L_\alpha = \mathbb V_\alpha$.
  Cependant, pour tout $\alpha > \omega$,
  $\mathbb L_\alpha \subsetneq \mathbb V_\alpha$.
\end{proposition}

\begin{proof}
  On procède par induction transfinie~:
  \begin{itemize}
  \item $\mathbb L_0 = \mathbb V_0$
  \item pour tout $n \in \omega$, si $\mathbb L_n = \mathbb V_n$, alors comme
    les deux ensembles sont finis~:
    \begin{align*}
      \mathbb L_{n+1} &= \powerdef(\mathbb L_n)\\
      &= \powerset(\mathbb L_n)\\
      &= \powerset(\mathbb V_n)\\
      &= \mathbb V_{n+1}
    \end{align*}
  \item si $\forall n < \omega, \mathbb L_n = \mathbb V_n$, alors
    $\mathbb L_\omega = \bigcup \mathbb L_n = \mathbb V_\omega$.
  \item comme $\mathbb L_\omega$ est infini,
    $\mathbb L_{\omega+1} \subsetneq \powerset(\mathbb L_\omega)$, donc
    $\mathbb L_{\omega+1} \subsetneq\mathbb V_{\omega+1}$.
  \item A FAIRE
  \end{itemize}
\end{proof}

Cependant, $\mathbb L$ contient bien tous les ordinaux.

\begin{proposition}
  Pour tout $\alpha \in \Ord$, $\alpha \in \mathbb L_{\alpha + 1}$.
\end{proposition}

\begin{proof}
  On raisonne par induction transfinie~:
  \begin{itemize}
  \item $\varnothing \in \mathbb L$.
  \item si $\alpha \in \mathbb L_{\alpha + 1}$,
    alors $\alpha \in \mathbb L_{\alpha + 2}$ et on définit la formule
    \[\varphi(x,\alpha) \defeq x = \alpha \lor x \in \alpha\]
    qui définit exactement la partie
    $\alpha + 1 \subseteq \mathbb L_{\alpha + 1}$, donc
    $\alpha + 1 \in \mathbb L_{\alpha + 2}$.
  \item si $\lambda$ est un ordinal limite, que pour tout $\beta < \lambda$,
    $\beta \in \mathbb L_\beta$, alors on peut définir $\lambda$ par
    \[\varphi(x,\lambda) \defeq \exists \beta\in \Ord, x = \beta\]
  \end{itemize}
  Ainsi pour tout $\alpha \in \Ord, \alpha \in \mathbb L_{\alpha + 1}$.
\end{proof}

Il y a donc toujours plus d'éléments dans $\mathbb V_\alpha$ que dans
$\mathbb L_\alpha$. Cependant, on pourrait imaginer qu'en prenant par exemple
$\alpha' = \beth_\alpha$, on puisse rattraper $\mathbb V_\alpha$ en considérant
$\mathbb L_{\alpha'}$. Le fait que l'on puisse toujours rattraper la hiérarchie
$(\mathbb V_{\alpha})_{\alpha\in\Ord}$ avec $\mathbb L$ est indépendant de $\ZFC$,
d'où l'introduction de l'axiome suivant~:

\begin{axiom}[V = L]\label{ax.VeqL}
  On définit l'axiome $\VeqL$ par la formule suivante~:
  \[\VeqL \defeq \forall x, \exists \alpha \in \Ord, x \in \mathbb L_\alpha\]
\end{axiom}

Nous étudions maintenant les propriétés de $\ZFC+\VeqL$. Pour cela, cherchons
d'abord à situer dans la hiérarchie de Lévy les éléments importants de l'univers
constructible.

\begin{property}
  La définition d'une fonction $H$-inductive est $\Delta_0$ si $H$ est
  $\Delta_0$.
\end{property}

\begin{proof}
  En effet, dire que $f : \alpha \to \mathbb V$ est $H$-inductive signifie que~:
  \begin{itemize}
  \item $\forall \beta < \alpha, f\restr{\beta}\subseteq \dom(H)$
  \item $\forall \beta < \alpha, f(\beta) = H(f\restr{\beta})$
  \end{itemize}
  Il nous suffit donc de montrer~:
  \begin{itemize}
  \item qu'être le domaine de $f$ est un prédicat $\Delta_0$, et on peut
    exprimer \og $X$ est le domaine de $f$\fg par
    \[\forall (x,y)\in f, x\in X \land \forall x \in X, \exists (z,y)\in f,
    x = z\]
    donc $\dom(f)$ est défini par un prédicat $\Delta_0$.
  \item qu'être une restriction de $f$ est un prédicat $\Delta_0$, ce qui est
    direct en voyant que
    \[g = f\restr{X} \iff \dom(g)\subseteq\dom(f)\land
    \forall x \in \dom(g), g(x)=f(x)\]
  \end{itemize}
  Comme $H$ est supposé $\Delta_0$, il vient qu'être $H$-inductif est un
  prédicat $\Delta_0$. De plus, si $H$ est $\Delta_n$ (respectivement
  $\Sigma_n$, $\Pi_n$) alors être $H$-inductif l'est aussi.
\end{proof}

Ainsi exprimer, pour $\alpha$ un ordinal, le prédicat d'être $\mathbb L_\alpha$,
est à un niveau aussi élevé que le prédicat utilisé pour sa définition, qui est
clairement la complexité de $\powerdef$.

C'est précisément ici que l'on voit que $\mathbb L$ se comporte beaucoup mieux
que $\mathbb V$~: là où $\powerset$ est une fonction $\Pi_1$, $\powerdef$ n'est
que $\Delta_0$.

\begin{property}\label{prop.Form.Delta}
  Le prédicat $Y = \Formula(\mathcal L_{\ZF})$ est $\Delta_0$.
\end{property}

\begin{proof}
  La définition est par induction, et la relation permettant de construire
  de nouvelles formules à partir d'anciennes est clairement $\Delta_0$.
\end{proof}

\begin{property}
  Le prédicat $Y = \powerdef(X)$ est $\Delta_0$.
\end{property}

\begin{proof}
  On sait grâce à la \cref{prop.Form.Delta} que l'on peut quantifier
  sur $\Formula(\mathcal L_{\ZF})$ sans souci. La définition de
  $X\models \varphi$ est elle aussi simplement une induction sur
  $\Formula(\mathcal L_{\ZF})$. La quantification sur les éléments de $X$ est,
  elle aussi, $\Delta_0$. Ainsi
  \begin{multline*}
    \exists \varphi(x_1,\ldots,x_n)\in\Formula(\mathcal L_{\ZF}),
    \exists a_1,\ldots,a_n\in X, \forall x\in X, \\
    x\in Y \iff X\models \varphi(a_1,\ldots,a_n,x)
  \end{multline*}
  est bien $\Delta_0$, donc $Y\in \powerdef(X)$ est un prédicat $\Delta_0$.
  Maintenant, dire que $Y = \powerdef(X)$ signifie
  \begin{multline*}
    (\forall y \in Y, y \in \powerdef(X)) \land
    \forall \varphi\in\Formula(\mathcal L_{\ZF}),
    \forall a_1,\ldots,a_n\in X, \exists y \in Y, \forall x \in X,\\
    x \in y \iff X\models \varphi(a_1,\ldots,a_n,x)
  \end{multline*}
  donc $Y = \powerdef(X)$ est un prédicat $\Delta_0$.
\end{proof}

\begin{corollary}
  Pour tout ordinal $\alpha$ et toute classe transitive $\mathcal M$, le
  prédicat $x\in \mathbb L_{\alpha}$ est absolu sur $\mathcal M$.
\end{corollary}

On peut donc placer l'axiome de constructibilité dans la hiérarchie de Lévy.

\begin{proposition}
  $\VeqL \in \Pi_2$.
\end{proposition}

\begin{proof}
  On peut énoncer $\VeqL$ par
  $\forall x, \exists \alpha \in \Ord, x\in \mathbb L_\alpha$ qui est clairement
  $\Pi_2$ avec les résultats précédents.
\end{proof}

Une conséquence intéressante est que $\VeqL$ est un axiome vérifié dans
$\mathbb L$. Cela parait assez évident, mais il faut rappeler
qu'\textit{a priori}, on pourrait obtenir plus de parties en regardant
$\powerdef$ dans $\mathbb V$. L'avantage justement ici est que toutes nos
fonctions sont absolues pour $\mathbb L$. 

\begin{theorem}
  $\ZFC\models (\VeqL)^{\mathbb L}$
\end{theorem}

\begin{proof}
  On sait que le prédicat $x\in \mathbb L_{\alpha}$ est vrai dans
  $\mathbb L$ si et seulement s'il est vrai dans $\mathbb V$. Par définition,
  on a
  \[(\VeqL)^{\mathbb L} =
  \forall x \in \mathbb L,\exists \alpha \in \Ord\cap \mathbb L,
  x\in \mathbb L_\alpha\]
  mais on a vu que $\Ord\subseteq \mathbb L$, donc il nous reste à prouver que
  $\forall x \in \mathbb L, \exists \alpha \in \Ord, x \in \mathbb L_\alpha$
  ce qui est vrai dans $\mathbb V$ par définition, et donc dans
  $\mathbb L$ par absoluité.
\end{proof}

On montre aussi que $\mathbb L$ est un modèle de $\ZF$.

\begin{theorem}
  $\ZF\models (\ZF)^{\mathbb L}$.
\end{theorem}

\begin{proof}
  On vérifie chaque axiome de $\ZF$~:
  \begin{itemize}
  \item A FAIRE
  \end{itemize}
  Ainsi $\mathbb L$ est un modèle classe de $\ZF$.
\end{proof}

Il en découle donc que $\VeqL$ est relativement cohérent~: on peut ajouter cet
axiome sans risque puisque si ajouter $\VeqL$ mène à une incohérence, alors
cette incohérence était déjà dans $\ZF$.

\begin{corollary}
  Si $\Coher(\ZF)$ alors $\Coher(\ZF + \VeqL)$.
\end{corollary}

\begin{remark}
  On verra qu'en fait $\VeqL$ implique une version forte de l'axiome du choix,
  donc on a aussi une preuve de $\Coher(\ZF)\implies \Coher(\ZFC)$.
\end{remark}

\subsection{Les propriétés de l'univers constructible}

On montre dans cette sous-section que l'univers $\mathbb L$ vérifie des
résultats particulièrement forts~: l'axiome du choix global et l'hypothèse du
continu généralisée.

Présentons donc l'axiome du choix global. Plutôt qu'un simple axiome, celui-ci
a besoin d'autres données pour être exprimé. Nous considérons que nous sommes
munis d'un symbole $F$ de fonction unaire.

\begin{axiom}[Axiome du choix global]
  L'axiome du choix global, pour le symbole de fonction $F$, s'exprime par
  \[\forall x, x\neq \varnothing \implies F(x)\in x\]
\end{axiom}

Dans notre cas, puisqu'on cherche à représenter des fonctions par des prédicats
binaires fonctionnels, on peut à la place considérer une formule $\varphi(x,y)$
fonctionnelle. L'axiome du choix global pour $\varphi$ (supposée fonctionnelle)
est alors
\[\forall x, x \neq \varnothing \implies (\forall y, \varphi(x,y)\implies
y\in x)\]

On cherche donc à construire une telle formule $\varphi$.

En fait, on voit avec les constructions précédentes à propos de l'axiome du
choix qu'il nous suffit de pouvoir bien ordonner l'univers, c'est-à-dire
construire un prédicat $\leL$ vérifiant les axiomes suivants~:
\begin{itemize}
\item $\forall x, \lnot(x \leL x)$
\item $\forall x,y,z, (x \leL y \land y \leL z) \implies x \leL z$
\item $\forall x,y, x\neq y \implies x \leL y \lor y \leL x$
\item $\forall x, x\neq \varnothing \implies
  \exists y, y \in x \land (\forall z \in x, \lnot (z \leL y))$
\end{itemize}
La fonction est alors simplement
\[\varphi(x,y) \defeq y \in x \land \forall z \in x, \lnot(z \leL y)\]
qui est évidemment fonctionnelle totale pour $x\neq \varnothing$ puiqu'il existe
un tel $y$ par le dernier point, et les autres axiomes assurent que ce $y$ est
unique.

Il nous faut donc construire $\leL$. Pour cela, remarquons deux choses~:
\begin{itemize}
\item $\Formula(\mathcal L_{\ZF})$ peut être bien ordonné.
\item si $\mathbb L_\alpha$ peut être bien ordonné, alors l'ensemble des
  suites finies $\mathbb L_\alpha^{<\omega}$ à valeurs dans $\mathbb L_\alpha$
  peut l'être aussi.
\end{itemize}
En utilisant ces deux faits, comme un élément de $\mathbb L_{\alpha + 1}$
peut être associé à un tuple $(\varphi,x_1,\ldots,x_n)$ où
$\varphi\in\Formula(\mathcal L_{\ZF})$ et $x_1,\ldots,x_n \in\mathcal L_{\alpha}$,
on peut bien ordonner $\mathbb L_{\alpha + 1}$. Remarquons cependant que
plusieurs tuples peuvent correspondre à une seule partie définissable~: il faut
donc prendre à chaque fois le tuple le plus petit possible.

Enfin, la question se pose du recollement des ordres~: si on a défini un ordre
sur $\mathbb L_\alpha$ il faut que celui défini sur $\mathbb L_{\alpha + 1}$
contienne l'ordre défini juste avant. Cela nous mène à l'énoncé que l'on veut
donner.

\begin{theorem}
  Il existe une fonction $\leL : \Ord \to \mathbb V$ telle que que
  $\leL(\alpha)$ est un bon ordre sur $\mathbb L_\alpha$ pour tout
  $\alpha\in \Ord$ et telle que pour tous $\alpha < \beta$,
  $\leL(\alpha)$ est un segment initial de $\leL(\beta)$.
\end{theorem}

\begin{proof}
  Notre démonstration est une induction transfinie~:
  \begin{itemize}
  \item pour $\varnothing$, le résultat est direct.
  \item supposons que $\leL(\alpha)$ existe. On utilise ce qu'on a dit
    précédemment~: on se fixe un bon ordre $<$ sur
    $\Formula(\mathcal L_{\ZF})\times \mathbb L_{\alpha}^{<\omega}$, soit
    $\beta$ le type de cet ordre. On peut associer à chaque partie
    $X\in\mathbb L_{\alpha + 1}\setminus\mathbb L_\alpha$ un élément de $\beta$
    comme étant le plus petit tuple $(\varphi,a_1,\ldots,a_n)$ tel que
    $x\in X \iff \mathbb L_{\alpha}\models \varphi(a_1,\ldots,a_n,x)$.
    Cette association est clairement injective, vu que la partie définie par
    un tuple est unique. On a donc une injection de
    $\mathbb L_{\alpha + 1}\setminus \mathbb L_\alpha$ vers un ordinal, donc un
    bon ordre sur $\mathbb L_{\alpha + 1} \setminus \mathbb L_\alpha$.
    En prenant simplement la somme ordinale avec l'ordre défini sur
    $\mathbb L_\alpha$, on trouve ainsi un bon ordre sur
    $\mathbb L_{\alpha + 1}$ tel que l'ordre sur $\mathbb L_\alpha$ en est
    un segment initial.
  \item si $\leL(\beta)$ a été défini pour tout ordinal $\beta < \lambda$,
    avec $\lambda$ un ordinal limite, alors on peut définir $\leL(\lambda)$
    comme l'union des $\leL(\beta)$. Comme tous les bons ordres sont
    compatibles, l'union est encore un bon ordre.
  \end{itemize}
  On a donc construit notre fonction $\leL : \Ord \to \mathbb V$ telle que
  $\leL(\alpha)$ est un bon ordre sur $\mathbb L_\alpha$ pour tout
  $\alpha\in\Ord$.
\end{proof}

On en déduit l'axiome du choix global.

\begin{corollary}
  Il existe une relation $\leL$ sur $\mathbb L$ qui est un bon ordre au sens
  défini plus tôt, donc $\ZF\models (\AxC)^{\mathbb L}$.
\end{corollary}

On veut maintenant montrer que $\mathbb L$ vérifie $\HCG$.

Pour cela, on va montrer d'abord que, sous l'hypothèse $\VeqL$, la hiérarchie
$\mathbb H$ coïncide avec $\mathbb L$ sur les cardinaux infinis.

On remarque que, comme $\mathbb H_\lambda$ et $\mathbb L_\lambda$ peuvent
s'exprimer comme l'union des $\mathbb H_\beta$ (respectivement $\mathbb L_\beta$)
pour $\beta < \lambda$ lorsque $\lambda$ est limite, il nous suffit de nous
occuper du cas successeur.

L'inclusion qui nous demandera du travail est
$\mathbb H_\kappa \subseteq\mathbb L_\kappa$, nous allons donc l'étudier à part.

\begin{lemma}
  Soit $\kappa$ un cardinal infini successeur, $\kappa = \lambda^+$. Si
  $\VeqL$, alors $\mathbb H_\kappa \subseteq \mathbb L_\kappa$.
\end{lemma}

\begin{proof}
  Soit $x \in \mathbb H_\kappa$. On pose $y = \trcl(\{x\})$, on sait donc que
  $x \in y$ et $|y| \leq \lambda < \lambda^+$. On définit $\rho(y)$ comme étant
  le rang minimal tel que $y\in\mathbb L_{\rho(y)}$. On peut trouver un cardinal
  régulier indénombrable $\theta > \rho(y)$ dans $\mathbb V$, donc dans
  $\mathbb L$ puisque $\VeqL$. On peut vérifier qu'alors,
  $\mathbb L_{\theta}\models \ZF - \mathrm{P} + (\VeqL)$. On utilise alors le
  théorème de Löwenheim-Skolem pour trouver un modèle $M$ vérifiant les mêmes
  énoncés de $\mathcal L_{\ZF}$ que $\mathbb L_{\theta}$, contenant
  $y$ et tel que $|M| \leq \lambda$ (ce qui est possible car $|y|\leq \lambda$).

  En utilisant alors le \cref{lem.most}, on trouve un ensemble $N$ et un
  isomorphisme $\pi : (M,\in)\cong (N,\in)$. Comme $y\in M$ est transitif, il
  est un point fixe par l'effondrement, donc pour tout $z\in y, \pi(z) = z$. En
  particulier, $\pi(x) = x$ et $x\in N$.

  On veut alors prouver que $N = \mathbb L_\beta$ avec $\beta = N\cap \Ord$.

  Soit $\alpha < \beta$, comme $\alpha \mapsto \mathbb L_\alpha$ est absolu
  pour les modèles de $\ZF - \mathrm{P}$, l'axiome de remplacement nous donne
  que $\mathbb L_\alpha \in N$. Comme, de plus, $N$ est transitif,
  $\mathbb L_\alpha \subseteq N$ donc $\mathbb L_\beta \subseteq N$.

  Réciproquement, comme $N\models \VeqL$, et par absoluité, on a
  \[(\VeqL)^N \iff \forall x \in N, \exists \alpha \in \Ord\cap N,
  x\in \mathbb L_\alpha\]
  Puisque $\beta = \Ord \cap N$, on en déduit que
  $\forall x \in N, \exists \alpha < \beta, x\in \mathbb L_\alpha$ donc
  $N\subseteq\mathbb L_\beta$.

  Ainsi $|\beta| = |N| = |M| = \lambda < \lambda^+$, et $x\in N$, donc
  $x\in L_\beta$ avec $\beta < \lambda^+$, donc $x\in L_\kappa$.
\end{proof}

Il nous reste maintenant à vérifier l'autre inclusion.

\begin{lemma}
  Soit $\kappa$ un cardinal infini, on suppose de plus que $\VeqL$. Alors
  $\mathbb H_\kappa = \mathbb L_\kappa$.
\end{lemma}

\begin{proof}
  Comme on l'a dit, le cas des cardinaux limite est direct par continuité de
  $\mathbb H_\alpha$ et $\mathbb L_\alpha$. Il nous reste donc à prouver que
  $\mathbb L_\kappa\subseteq \mathbb H_\kappa$ pour $\kappa = \lambda^+$.

  Si $x\in \mathbb L_\kappa$, alors on trouve $\alpha < \kappa$ tel que
  $x\in \mathbb L_\alpha$, mais alors $\trcl(x)\subseteq \mathbb L_\alpha$ et, de
  plus, $|\mathbb L_\alpha| = |\alpha| < \kappa$.
  Donc $\trcl(x)\in\mathbb H_\kappa$.

  Ainsi $\mathbb H_\kappa = \mathbb L_\kappa$.
\end{proof}

On en déduit $\HCG$ dans $\VeqL$.

\begin{theorem}
  Si $\VeqL$, alors $\HCG$ est vérifiée.
\end{theorem}

\begin{proof}
  Soit un cardinal infini $\lambda$, alors
  $\powerset(\lambda) \subseteq \mathbb H_{\lambda^+} = \mathbb L_{\lambda^+}$,
  donc $|\powerset(\lambda)| \leq \lambda^+$.
\end{proof}

Nous concluons donc ce chapitre sur ce résultat important~:
\[\Coher(\ZFC) \implies \Coher(\ZFC + \HCG)\]

$\HCG$ ne peut donc pas être prouvée faux dans $\ZFC$. Pour montrer que ce
résultat est indépendant de $\ZFC$, il nous reste alors à montrer que
$\Coher(\ZFC)\implies\Coher(\ZFC+\lnot\HC)$, ce qui nécessite la technique du
forcing, introduite par Cohen.
